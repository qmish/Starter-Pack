# Node.js — переменные для экспорта телеметрии в SigNoz (OTLP)
# Скопируйте в .env или экспортируйте в shell перед запуском приложения.
#
# Документация: https://signoz.io/docs/instrumentation/nodejs/

# Endpoint коллектора или SigNoz (gRPC предпочтителен)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_PROTOCOL=grpc

# Имя сервиса в SigNoz (обязательно для группировки)
OTEL_SERVICE_NAME=my-node-service

# Включить трейсы и метрики (по умолчанию часто уже включены в SDK)
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp

# Трассировка: семплирование и атрибуты (см. docs/TRACING_SETUP.md)
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=0.1
OTEL_RESOURCE_ATTRIBUTES=deployment.environment=production,service.version=1.0.0
OTEL_PROPAGATORS=tracecontext,baggage

# Логи: уровень (severity) задаётся логгером; для фильтра по кодам ошибок добавляйте
# в структурированный лог поле error.code (см. docs/LOGGING_FILTERING.md)

# Для SigNoz Cloud добавьте (если приложение шлёт напрямую в Cloud):
# OTEL_EXPORTER_OTLP_ENDPOINT=https://ingest.REGION.signoz.cloud:443
# OTEL_EXPORTER_OTLP_HEADERS=signoz-ingestion-key=<YOUR_KEY>
